const e=document.querySelector("form"),t=document.querySelector('input[name="delay"]'),o=document.querySelector('input[name="step"]'),n=document.querySelector('input[name="amount"]'),s=(document.querySelector('button[type="submit"]'),parseInt(t.value)),l=parseInt(o.value),r=parseInt(n.value);function u(e,t){return new Promise(((o,n)=>{const s=Math.random()>.3;setTimeout((()=>{s?o({position:e,delay:t}):n({position:e,delay:t})}),t)}))}e.addEventListener("submit",(function(t){t.preventDefault();let o=1,n=s;const c=[];for(let e=0;e<r;e+=1){const e=u(o,n).then((({position:e,delay:t})=>{console.log(`✅ Fulfilled promise ${e} in ${t}ms`)})).catch((({position:e,delay:t})=>{console.log(`❌ Rejected promise ${e} in ${t}ms`)}));c.push(e),o+=1,n+=l}Promise.all(c).then((()=>{console.log("All promises resolved"),e.reset()})).catch((()=>{console.log("At least one promise rejected"),e.reset()}))}));
//# sourceMappingURL=03-promises.042d82bd.js.map
